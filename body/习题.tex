\section*{距离空间与拓扑空间习题}
\begin{example}
\quad 证明：任意开集的并为开集。
\end{example}
\begin{proof}
设$\Lambda$为指标集，$A_{\lambda} \ (\lambda \in \Lambda)$为开集：
\[\forall x \in \bigcup_{\lambda \in \Lambda}A_{\lambda} \ \Rightarrow \ x \in A_{\lambda_i} \ \Rightarrow \ B_{\varepsilon}(x) \subset A_{\lambda_i} \subset \bigcup_{\lambda \in \Lambda}A_{\lambda}\]
\end{proof}

\begin{example}
\quad 证明：在$(X,d)$中，$\overline{A}=A \ \Leftrightarrow \ A^c$是开集。
\end{example}
\begin{proof}必要性：$\overline{A}=A \ \Rightarrow \ A^c$是开集：
\[\forall x \in A^c \ \Rightarrow \ \exists \, B_{\varepsilon}(x) \cap A=\varnothing \ \Leftrightarrow \ B_{\varepsilon}(x) \subset A^c \ \Rightarrow \ A^c\text{是开集}\]
充分性：$A^c$是开集$ \ \Rightarrow \ \overline{A}=A$：
\[\forall x \in A^c \ \Rightarrow \ \exists \, B_{\varepsilon}(x) \subset A^c \ \Leftrightarrow \ B_{\varepsilon}(x) \cap A=\varnothing \ \Rightarrow \ A\text{的所有接触点都在$A$中} \ \Rightarrow \ \overline{A}=A\]
\end{proof}

\begin{example}
\quad 证明$D$是距离空间且$\ x_n(t) \xrightarrow{d} x(t) \ \Leftrightarrow \ x_n(t) \rightrightarrows x(t)\text{且}x_n'(t) \rightrightarrows x'(t)$。
\[D=C^1[0,1]=\{x(t),x'(t) \in C[0,1]\} \quad d(x,y)=\mathop \text{sup}\limits_{t \in [0,1]}|x(t)-y(y)|+\mathop \text{sup}\limits_{t \in [0,1]}|x'(t)-y'(y)|\]
\end{example}

\begin{example}
\quad 设$d$是距离，证明$d/(1+d)$也是距离。
\end{example}

\begin{example}
\quad 证明$d(x,y)=0$时$x=y$在如下空间中成立：
\[X=\{f(z)\text{在}|z|<1\text{上解析},\text{在}|z| \leq 1\text{上连续}\} \ , \ d(x,y)=\mathop \text{sup}\limits_{|z|=1}|x(z)-y(z)|\]
\end{example}
\begin{proof}
当$|z|=1$时这是好证的。当$|z|<1$时，利用极值原理或柯西积分公式(以后者为例)：
\[f(z):=x(z)-y(z) \ , \ \forall z_0 \in |z|<1 \ , \ f(z_0)=\int\limits_{|z|=1}\frac{f(z)}{z-z_0}\dd z=\int\limits_{|z|=1}\frac{x(z)-y(z)}{z-z_0}\dd z=0\]
\end{proof}

\begin{example}
\quad 考虑如下距离空间,下面这个例子告诉我们在距离空间中小球可能包含大球，但大球不能太大：
\begin{figure}[htbp]
    \center
    \includegraphics[scale=0.2]{./fig/ex-1.png}
\end{figure}
\[B_4(a)=\{a,b,c,d\} \subset B_3(c)=\{a,b,c,d,e\}\]
证明:若$B_7(a) \subset B_3(b)$则$B_7(a)=B_3(b)$。
\end{example}
\begin{proof}
$\forall x \in B_3(b) \ , \ d(x,a) \leq d(x,b)+d(b,a)<3+3=6<7 \ \Rightarrow \ x \in B_7(a)$
\end{proof}

\begin{example}
\quad $(X,d)$是距离空间，$A \subset X$，令$f(x)=\mathop \text{inf}\limits_{y \in A}d(x,y)$，证明$f(x)$连续。
\end{example}
\begin{proof}
已知三角不等式：$\forall x_1,x_2 \in X \ , \ y \in A \ , \ d(x_1,x_2) \leq d(x_1,y)+d(y,x_2)$，两侧对$y$取下极限：
\[f(x_1) \leq d(x_1,x_2)+f(x_2) \ \Leftrightarrow \ f(x_1)-f(x_2) \leq d(x_1,x_2)\]
同理有：
\[f(x_2)-f(x_1) \leq d(x_1,x_2)\]
因此：
\[\Rightarrow \ |f(x_1)-f(x_2)| \leq d(x_1,x_2) \to 0\]
即：
\[\forall \varepsilon>0 \ , \ d(x_1,x_2)<\delta=\varepsilon \quad \text{s.t.} \quad |f(x_1)-f(x_2)|<\varepsilon\]
\end{proof}

\begin{example}
\quad 证明$C^1[0,1]$是完备距离空间。
\end{example}
\begin{proof}
设$\{x_n(t)\}$是$C^1[0,1]$中的柯西列，$C^1[0,1]$上定义的距离为：
\[d(x_n(t),x_m(t))=\mathop \text{sup}\limits_{t \in [0,1]}|x_n(t)-x_m(t)|+\mathop \text{sup}\limits_{t \in [0,1]}|x_n'(t)-x_m'(t)|\]
由$C[0,1]$的完备性可知，我们只需要证明$\{x_n'(t)\}$是$C[0,1]$中的柯西列，即$x_n'(t) \rightrightarrows h(t) \in C[0,1]$。只需证：
\[x_n(t) \rightrightarrows x(0)+\int_0^th(s)\dd s \ , \ x(0)=\lim_{n \to \infty}x_n(0)\]
验证，利用微积分基本定理：
\[\begin{aligned}
\left|x_n(t)-x(0)-\int_0^th(s)\dd s\right| &\leq \left|x_n(0)+\int_0^tx_n'(s)\dd s-x(0)-\int_0^th(s)\dd s\right|\\
&\leq \left|x_n(0)-x(0)\right|+\int_0^t|x_n'(s)-h(s)|\dd s\\
&\leq \left|x_n(0)-x(0)\right|+\mathop \text{sup}\limits_{t \in [0,1]}|x_n'(t)-h(t)| \to 0
\end{aligned}\]
且上述极限的取值与$t \in [0,1]$无关，故为一致收敛，原命题得证。
\end{proof}

\begin{example}
\quad 证明：闭球套定理成立的距离空间是完备距离空间。
\end{example}
\begin{proof}
原命题等价于设$(X,d)$中任一套闭球套$(r_n \to 0)$都有非空交，那么$(X,d)$完备。设$\{x_n\}$是$X$中的柯西列，由它构造闭球套：
\[\forall k \in \mathbb{Z}_+ \ , \ \exists \, n_k>0 \quad \text{s.t.} \quad m,n \geq n_k \ , \ d(x_m,x_n)<\frac{1}{2^k} \ \Rightarrow \ x_n \in B_{\frac{1}{2^{k+1}}}(x_{n_k})\]
因此存在点列$\{x_{n_k}\}$构造的闭球满足：
\[\overline{B_{\frac{1}{2^{k+1}}}(x_{n_{k+1}})} \subset \overline{B_{\frac{1}{2^k}}(x_{n_k})}\]
当且仅当：
\[\exists \,! \, x \in \bigcap_{k=1}^{\infty}\overline{B}_{\frac{1}{2^k}}(x_{n_k})\]
子列$\{x_{n_k}\}$才能收敛$d(x_{n_k},x) \to 0$。由于柯西利的子列收敛，故原柯西列也收敛。
\end{proof}

\begin{example}
\quad 设$(X,d)$完备，$\tilde{f}$为$X$上的一族连续函数，满足$\tilde{f}=\{F(x)|\forall x \in X \ , \exists \, M_x>0 \quad \text{s.t.} \quad |F(x)| \leq M_x\}$。证明：$\exists \, M>0 \ , \ \exists \, U\text{(开集)} \in X \quad \text{s.t.} \quad \forall x \in U \ , \ F \in \tilde{f} \ , \ |F(x)| \leq M$。
\end{example}
\begin{proof}
Baire 定理应用：设$E_n=\{x|x \in X \ , \ |F(x)| \leq n \ , \ F \in \tilde{f}\}$，因此对：
\[\forall x \in X \ , \ x \in E_{[M_x]+1} \quad \Rightarrow \quad X \subset \bigcup_{n=1}^{\infty}E_n \ \left(or \ X=\bigcup_{n=1}^{\infty}E_n \right)\]
由于$(X,d)$完备,由 Baire 定理，至少存在一个$M$使得$E_M$不是疏集，即存在一个开集$U \subset \overline{E}_M$，对$\forall x \in U \ , \ \exists \, \{x_n\} \subset E_M$使得$x_n \to x$。由连续性可知：
\[|F(x)|=\lim_{n \to \infty}|F(x_n)| \leq M \ , \ \forall F \in \tilde{f}\]
\end{proof}

\begin{example}
在距离空间中证明：连续$\ \Leftrightarrow \ $开集的原像是开集。
\end{example}
\begin{proof}
必要性：设$f:X \to Y$是连续映射，设$G \subset Y$是任一开集，要证$f^{-1}(G)$是$X$中的开集。即证对$\forall x_0 \in f^{-1}(G) \ , \  \exists \, \varepsilon>0$使得$B_{\varepsilon}(f(x_0)) \subset G$。由于$f$是连续映射，即$\forall y \in f^{-1}(G) \ , \  \exists \, \delta>0$使得当$d(y,x_0)<\delta$时有$d_Y(f(y),f(x_0))<\varepsilon$，这也即$f(B_{\delta}(x_0)) \subset B_{\varepsilon}(f(x_0)) \subset G$。因此$B_{\delta}(x_0) \subset f^{-1}(G)$，即$x_0$是$f^{-1}(G)$的内点，由$x_0$的任意性可知$f^{-1}(G)$是开集。
\begin{figure}[htbp]
    \center
    \includegraphics[scale=0.14]{./fig/ex-2.png}
\end{figure}

充分性：设$f:X \to Y$满足开集的原像是开集，则对$\forall x_0 \in X \ , \ \exists \, \varepsilon>0$有开球$B_{\varepsilon}(f(x_0))$是$Y$中的开集，因此$f^{-1}(B_{\varepsilon}(f(x_0)))$是$X$中的开集，且$x_0 \in f^{-1}(B_{\varepsilon}(f(x_0)))$是内点。因此$\exists \, \delta>0$使得$f(B_{\delta}(x_0)) \subset B_{\varepsilon}(f(x_0))$，可知$f$在$x_0$处连续。由$x_0$任意性可得$f$在$X$上连续。
\begin{figure}[htbp]
    \center
    \includegraphics[scale=0.14]{./fig/ex-3.png}
\end{figure}
\end{proof}

\begin{example}
举例说明在压缩映射中
\begin{itemize}
    \item 1. 完备性不可少；
    \item 2. $d(Tx,Ty)<d(x,y) \ \forall x \neq y$是不充分的。
\end{itemize}
\end{example}
\begin{proof}
\begin{itemize}
\item 1. $R-\{0\} \to R-\{0\} \quad x \mapsto x/2$无不动点；
\item 2. 定义映射$T: \ [0,+\infty) \to [0,+\infty), \ T(x)=x+1/(1+x)$，对$\forall x,y \in [0,+\infty)$计算像空间中的距离：
\[d(T(x),T(y))=\left|x+\frac{1}{1+x}-y-\frac{1}{1+y}\right|=\left|1-\frac{1}{(1+x)(1+y)}\right|d(x,y)<d(x,y)\]
当$T(x)=x$时，会得出$1/(1+x)=0$，但该方程无解，无不动点。
\end{itemize}
\end{proof}

\begin{example}
\quad $T:X \to X \ , \ X$完备，$T$在闭球$\overline{B_r(x_0)} \ x_0 \in X$上为压缩映射，即对$\theta \in (0,1)$，满足$d(Tx,Ty) \leq \theta d(x,y)$，且$d(x_0,Tx_0)<(1-\theta)r$，证明：$T$在$\overline{B_r(x_0)}$上有唯一不动点。
\end{example}
\begin{proof}
因为完备闭子空间也是完备的[定理\ref{theorem:zkj}]，故只需证$T(\overline{B_r(x_0}) \subset \overline{B_r(x_0)}$，对$\forall x \in \overline{B}_r(x_0)$有：
\[d(Tx,x_0) \leq d(Tx,Tx_0)+d(Tx_0,x_0) \leq \theta d(x,x_0)+(1-\theta)r \leq \theta r+(1-\theta)r=r\]
可知$Tx \in \overline{B_r(x_0)}$，由$x$的任意性可知$T(\overline{B_r(x_0)}) \subset \overline{B_r(x_0)}$。把$T$限制在$\overline{B_r(x_0)}$上：$T:\overline{B_r(x_0)} \to \overline{B_r(x_0)}$，$T$为压缩映射，$\overline{B_r(x_0)}$是完备空间$X$上的闭子空间，所以$\overline{B_r(x_0)}$完备。由压缩映射定理即证。
\end{proof}

\begin{example}
\quad $(t_0,s_0) \in \mathbb{R}^2 \ , \ f(t,s)$在$(t_0,s_0)$的邻域$N$中连续，满足$s_0=f(t_0,s_0)$。同时$\partial_sf(t,s)$在邻域$N$中存在且在$(t_0,s_0)$连续，且$\partial_sf(t_0,s_0)=0$。证明当$\exists \, \delta>0 \ , \ t \in [t_0-\delta,t_0+\delta] \ , \ x(t) \in C[t_0-\delta,t_0+\delta]$时，方程$x(t)=f(t,x(t)) \ , \ x(t_0)=s_0$有唯一解。
\end{example}
\begin{proof}
由$\partial_sf(t,s) \in C(N)$且$\partial_sf(t_0,s_0)=0$，即$\exists \, \delta>0$，当$|t-t_0| \ ,\ |s-s_0| \leq \delta$时，有$|\partial_s(t,s)|=\theta < 1$。令：
\[X=\{x(t) \in C[t_0-\delta,t_0+\delta] \ , \ x(t_0)=s_0 \ , \ \mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|x(t)-s_0| \leq \frac{\delta}{2}\}\]
由$C[t_0-\delta,t_0+\delta]$完备，所以对$\forall \{x_n(t)\} \subset X \ , \ \exists \, x_{\infty}(t) \in C[t_0-\delta,t_0+\delta]$使得$x_n(t) \rightrightarrows x_{\infty}(t)$，且：
\[x_{\infty}(t_0)=\lim_{n\to\infty}x_n(t_0)=\lim_{n\to\infty}s_0=s_0 \ , \ \forall n \in \mathbb{N}_+ \ , \ |x_n(t)-s_0| \leq \frac{\delta}{2} \quad \Rightarrow \quad |x(t)-s_0|=\lim_{n\to\infty}|x_n(t)-s_0|\leq \frac{\delta}{2}\]
上述结论（极限不保严格不等号，所以定义时取闭保持闭性）对$\forall t \in [t_0-\delta,t_0+\delta]$都成立，不等式两侧取上界：
\[\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|x(t)-s_0| \leq \frac{\delta}{2}\]
即$x \in X$。因此$X$是闭子空间，由完备闭子空间也是完备的[定理\ref{theorem:zkj}]知$X$是完备的。

定义$T: \ X \to X \ , \ T(x(t))=f(t,x(t))$，验证良定义（满足初值条件以及像在原空间中）：
\begin{itemize}
\item 1. $T(x(t_0))=f(t_0,x(t_0))=f(t_0,s_0)=s_0=x(t_0)$；
\item 2. $\forall x \in X \ , \ T(x(t)) \in X$：
\[\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|T(x(t))-s_0|=\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|f(t,x(t))-s_0|=\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|f_s(t,\xi(t))||x-s_0| \leq \frac{\delta}{2}\]
\end{itemize}
计算范数$d(Tx,Ty)$：
\[d(Tx,Ty)=\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|f(t,x(t))-f(t,y(t))|=\mathop \text{sup}\limits_{t \in [t_0-\delta,t_0+\delta]}|f_s(t,\xi(t))||x(t)-y(t)| \leq \theta d(x,y)\]
因此$T$是压缩映射，由压缩映射定理可知$\exists \, ! \, x(t) \in X$满足$x(t)=f(t,x(t))$。
\end{proof}

\begin{example}
\quad 证明：全有界集$A$的有限$\varepsilon$-网可取为$A$的子集。
\end{example}
\begin{proof}
对$\forall \varepsilon>0$，存在$A$的有限$\varepsilon/2$-网$N=\{x_1,x_2,\cdots,x_k\}$，若$B_{\varepsilon/2}(x_i) \cap A =\varnothing$，则可把$x_i$从$N$中去掉。不妨设对每个$x_i \in N$都满足$B_{\varepsilon/2}(x_i) \cap A \neq \varnothing$，取$y_i \in B_{\varepsilon/2}(x_i) \cap A$，显然有$B_{\varepsilon/2}(x_i) \subset B_{\varepsilon}(y_i)$。因此$\{y_1,y_2,\cdots,y_k\} \subset A$为$A$的有限$\varepsilon$-网。
\begin{figure}[htbp]
    \center
    \includegraphics[scale=0.2]{./fig/ex-4.png}
\end{figure}
\end{proof}

\begin{example}
\quad 证明：$C^1[0,1]$中的有界集$A$是$C[0,1]$中的相对紧集。
\end{example}
\begin{definition}[相对紧集]
若集合$M$的闭包$\overline{M}$在空间中是紧集，则称$M$是相对紧集。
\end{definition}
\begin{proof}
$C[0,1]$是距离空间，故$C[0,1]$中的紧集是列紧的闭集，$\overline{A}$是闭集，故只需证明$\overline{A}$是列紧的。分三步证明：
\begin{proposition}
1. $A$在距离空间$C[0,1]$中有界(即一致有界)。
\end{proposition}
\begin{proof}
由$A$在$C^1[0,1]$中有界，可得对$\forall x(t) \in A \ , \ \exists \, K>0$满足$d_C(x(t),0) \leq d_{C^1}(x(t),0) \leq K$，命题得证。
\end{proof}
\begin{proposition}
2. $A$等度连续。
\end{proposition}
\begin{proof}
利用中值定理对$\forall \varepsilon>0 \ , \ x(t) \in A \ , \ t_1,t_2 \in [0,1]$满足$|x(t_1)-x(t_2)|=|x'(\xi)||t_1-t_2| \leq K|t_1-t_2|$，取$|t_1-t_2|<\varepsilon/K$即得$|x(t_1)-x(t_2)|<\varepsilon$，$A$等度连续得证。
\end{proof}
由上述两命题以及 Arzela-Ascoli 定理[定理\ref{the:AA}]可以得$A$是列紧的。
\begin{proposition}
列紧集的闭包还是列紧的。
\end{proposition}
\begin{proof}
任取$\overline{A}$中的柯西列$\{x_n(t)\}$，由闭包的性质，对$\forall x_n(t) \in \overline{A} \ , \ \exists \, y_n(t) \in A$满足$d_C(x_n(t),y_n(t))<1/n$。因为$A$是列紧的，所以$\exists \, n_k$使得$y_{n_k}(t) \to y(t)$，则：
\[d_C(x_{n_k}(t),y(t)) \leq d_C(x_{n_k}(t),y_{n_k}(t))+d_C(y_{n_k}(t),y(t))\leq \frac{1}{n_k}+d_C(y_{n_k}(t),y(t)) \to 0\]
即证$\overline{A}$列紧。
\end{proof}
\end{proof}

\begin{example}
\quad $X$是紧距离空间，$T:X \to X$是连续映射，对$\forall x \neq y$满足$d(Tx,Ty)<d(x,y)$。证明：$T$存在唯一不动点。
\end{example}
\begin{remark}
\quad 需要注意的是这里$T$不一定是压缩映射，如取$X=[0,1]$，定义映射$T:X \to X$：
\[x \mapsto Tx=\frac{x}{1+x}\]
则对$\forall x \neq y \in [0,1]$：
\[|Tx-Ty|=\left|\frac{x}{1+x}-\frac{y}{1+y}\right|=\frac{|x-y|}{|1+x||1+y|}<|x-y|\]
显然上述映射$T$有唯一不动点$T(0)=0$。
\end{remark}
\begin{proof}
定义$f(x)=d(x,Tx)$，易证，$f$在$X$上连续，故由于$X$是紧集可知$f$有最小值，设$x_0$是$f$的极小值点。若$f(x_0)>0$，则$f(x_0) \leq d(Tx_0,T^2X_0)<d(x_0,Tx_0)=f(x_0)$，得出矛盾，故$f(x_0)=0$即$Tx_0=x_0$是不动点。若$\exists \, y_0$使得$Ty_0=y_0$且$y_0 \neq x_0$，则$0<d(x_0,y_0)=d(Tx_0,Ty_0)<d(x_0,y_0)$，得出矛盾，因此不动点唯一。
\end{proof}

\section*{赋范线性空间习题}
\begin{example}
\quad 证明：Banach 空间$c_0=\{x=\{\xi_k\}|\xi_k\to0\} \ , \ ||x||=\mathop \text{sup}\limits_{k}|\xi_k|$可分。
\end{example}
\begin{proof}构造$A=\{r=\{r_k\}|r_k \in \mathbb{Q} \ , \ \exists \, n>0 \ , \ \forall k>n \ , \ r_k=0\}$，显然$A \subset c_0$。依题意，对$\forall \varepsilon>0 \ , \ x=\{\xi_k\} \in c_0 \ , \ \exists \, N>0$当$\forall n \geq N$满足$|\xi_n|<\varepsilon$。显然$\exists \, r=(r_1,r_2,\cdots,r_N,0,0,\cdots) \in A$满足：
\[||x-r||=\mathop \text{sup}\limits_{k \in \mathbb{N}_+}|r_k-\xi_k| \leq \text{max}\left\{\mathop \text{sup}\limits_{k \leq N}|r_k-\xi_k| \ , \ \varepsilon\right\}\leq\varepsilon\]
因为$\text{card}(A)=\text{card}(\mathbb{Q})$，故$c_0$是可分的。
\end{proof}

\begin{example}
\quad 设$x_i,y_i \in \mathbb{K} \ , \ p,q>0$，证明离散形式的 H\"{o}lder 不等式：
\[\frac{1}{p}+\frac{1}{q}=1 \ , \ \sum_{i=1}^n|x_iy_i| \leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}\left(\sum_{i=1}^n|y_i|^q\right)^{\frac{1}{q}}\]
和 Minkowski 不等式：
\[p \geq 1 \ , \ \left(\sum_{i=1}^n|x_i+y_i|^p\right)^{\frac{1}{p}} \leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}+\left(\sum_{i=1}^n|y_i|^p\right)^{\frac{1}{p}}\]
\end{example}
\begin{proof}
记
\[A=\left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}} \ , \ B=\left(\sum_{i=1}^n|y_i|^q\right)^{\frac{1}{q}}\]
由 Young 不等式[定理\ref{theorem:young}]
\[\frac{|x_i| \cdot |y_i|}{A \cdot B} \leq \frac{1}{p}\frac{|x_i|^p}{A^p}+\frac{1}{q}\frac{|y_i|^q}{B^q} \quad \Rightarrow \quad \frac{1}{A \cdot B}\sum_{i=1}^n|x_iy_i| \leq \frac{1}{pA^p}\sum_{i=1}^n|x_i|^p+\frac{1}{qB^q}\sum_{i=1}^n|y_i|^q=1\]
\[\Rightarrow \quad \sum_{i=1}^n|x_iy_i| \leq A \cdot B=\left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}} \cdot \left(\sum_{i=1}^n|y_i|^q\right)^{\frac{1}{q}}\]
离散形式的 H\"{o}lder 不等式即证。下证离散形式的 Minkowski 不等式，易知$1/p+1/q=1 \ \Leftrightarrow \ p=(p-1)q$：
\[\begin{aligned}
\sum_{i=1}^n|x_i+y_i|^p&=\sum_{i=1}^n|x_i+y_i||x_i+y_i|^{p-1} \leq \sum_{i=1}^n|x_i||x_i+y_i|^{p-1}+\sum_{i=1}^n|y_i||x_i+y_i|^{p-1}\\
&\leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}\left(\sum_{i=1}^n|x_i+y_i|^{q(p-1)}\right)^{\frac{1}{q}}+\left(\sum_{i=1}^n|y_i|^p\right)^{\frac{1}{p}}\left(\sum_{i=1}^n|x_i+y_i|^{q(p-1)}\right)^{\frac{1}{q}}\\
&\leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}\left(\sum_{i=1}^n|x_i+y_i|^{p}\right)^{1-\frac{1}{p}}+\left(\sum_{i=1}^n|y_i|^p\right)^{\frac{1}{p}}\left(\sum_{i=1}^n|x_i+y_i|^{p}\right)^{1-\frac{1}{p}}\\
\end{aligned}\]
\[\Rightarrow \ \left(\sum_{i=1}^n|x_i+y_i|^p\right) \cdot \left(\sum_{i=1}^n|x_i+y_i|^{p}\right)^{\frac{1}{p}-1} \leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}+\left(\sum_{i=1}^n|y_i|^p\right)^{\frac{1}{p}}\]
\[\Leftrightarrow \ \left(\sum_{i=1}^n|x_i+y_i|^{p}\right)^{\frac{1}{p}} \leq \left(\sum_{i=1}^n|x_i|^p\right)^{\frac{1}{p}}+\left(\sum_{i=1}^n|y_i|^p\right)^{\frac{1}{p}}\]
离散形式的 Minkowski 不等式即证。
\end{proof}
\newpage
\begin{example}
\quad 设$m(E)<+\infty \ , \ f \in L^{\infty}(E)$，证明：
\[\lim_{p \to \infty}||f||_{L^p}=||f||_{L^{\infty}}\]
\end{example}
\begin{proof}利用 H\"{o}lder 不等式估计$L^p$范数的上界：
\[||f||_{L^p(E)}=\left(\int_E|f|^p\dd t\right)^{\frac{1}{p}}=\left(\int_{E/E_0}|f|^p\dd t\right)^{\frac{1}{p}} \leq \left(m(E) \cdot ||f||^p_{L^{\infty}(E)}\right)^{\frac{1}{p}}=m(E)^{\frac{1}{p}}||f||^p_{L^{\infty}(E)}\]
对上式两侧取极限：
\[\lim_{p \to \infty}||f||_{L^p(E)} \leq \lim_{p \to \infty}m(E)^{\frac{1}{p}}||f||^p_{L^{\infty}(E)}=||f||^p_{L^{\infty}(E)}\]
另一方面，我们令$M=||f||_{L^{\infty}(E)}$，其满足对$\forall \varepsilon>0 \ , \ m(|f| \geq M-\varepsilon)=\delta>0$，都有：
\[||f||_{L^p(E)}=\left(\int_E|f|^p\dd t\right)^{\frac{1}{p}}=\left(\int_{f \geq M-\varepsilon}|f|^p\dd t+\int_{f<M-\varepsilon}|f|^p\dd t\right)^{\frac{1}{p}}\]
\[\geq \left(\int_{|f| \geq M-\varepsilon}|M-\varepsilon|^p\dd t+\int_{|f|<M-\varepsilon}|f|^p\dd t\right)^{\frac{1}{p}} \geq |M-\varepsilon|\delta^{\frac{1}{p}}\]
由$\varepsilon$的任意性:
\[\lim_{p \to \infty}||f||_{L^p(E)} \geq \lim_{p \to \infty} |M-\varepsilon|\delta^{\frac{1}{p}}=||f||_{L^{\infty}(E)}\]
综上所述，有：
\[\lim_{p \to \infty}||f||_{L^p}=||f||_{L^{\infty}}\]
\end{proof}

\section*{有界线性算子习题}
\begin{example}
\quad 设$f$是$[a,b]$上的可测函数，且对$\forall g \in L^p[a,b] \ , \ p\in(1,+\infty)$都有$f \cdot g \in L^1[a,b]$，求证$f \in L^q[a,b]$，其中$1/p+1/q=1$。
\end{example}
\begin{proof}
定义映射$F$，对$\forall g \in L^p$，都有$F: \ L^p \to \mathbb{R}$：
\[F(g)=\int_a^bf \cdot g\dd{x}\]
显然$F$是有界线性泛函。对$\forall N \in \mathbb{N}_+$，定义新函数$f_N(x)$和对应的映射$F_N(x)$：
\[f_N(x)=\left\{\begin{array}{rl}
f(x), & |f(x)| \leq N \\ 0, & |f(x)|>N
\end{array}\right. \quad , \quad F_N(x)=\int_a^bf_N \cdot g \dd{x}\]
显然$\{F_N\}$逐点收敛至$F$。对$\forall g \in L^p[a,b]$，记$|F(g)|$的最大值为$C$，当$N \to \infty$时，有：
\[|F_N(g)|=\left|\int_a^b f_N \cdot g \dd{x}\right|=\left|\int_a^b f \cdot g \dd{x}-\int_{\{|f(x)|>N\}} f \cdot g \dd{x}\right|\leq\left|\int_a^b f \cdot g \dd{x}\right|+\left|\int_{\{|f(x)|>N\}} f \cdot g \dd{x}\right| \leq C+1<+\infty\]
进而可知$||F_N||\leq C+1<+\infty$，即$\{F_N\}$一致有界。由 Banach-Steinhaus 定理[定理\ref{BS}]得$||F_N-F|| \to 0$且：
\[||F||\leq \liminf_{N\to\infty}||F_N||\]
只需验证$||F_N||=||f_N||_{L^q}$，然后取$N \to \infty$即证。一方面：
\[|F_N(g)|=\left|\int_a^b f_N \cdot g \dd{x}\right|\leq||f_N||_{L^q}\cdot||g||_{L^p} \quad \Rightarrow \quad ||F_N|| \leq ||f_N||_{L^q}\]
另一方面，容易验证可取$g=(f_N)^{q-1}\cdot\text{sgn}f_N \in L^p$：
\[|F_N(g)|=\int_a^b |f_N|^q \dd{x}=||f_N||^q_{L^q} \leq ||F_N||\cdot||g||_{L^p}=||F_N||\cdot||f_N||^{q-1}_{L^q} \quad \Rightarrow \quad ||F_N|| \geq ||f_N||_{L^q}\]
综上所述，$||F_N||=||f_N||_{L^q}$，原命题得证。
\end{proof}
\newpage

\begin{example}
\quad 设$H$是 Hilbert 空间，$M \subset X \ , \ f \in M^*$，证明存在$f$的线性延拓$F$使得$||F||=||f||$。
\end{example}
\begin{proof}
做$H$的正交分解$H=M \oplus M^{\perp}$，令$p: \ H \to M$是正交投影算子，即对$\forall x \in H \ , \ \exists \, x_1 \in M \ , \ x_2 \in M^{\perp}$，满足$x=x_1+x_2$，且$p(x)=x_1$，容易验证$||p||=1$。定义泛函$F: \ H \to \mathbb{R} \ , \ x \mapsto f \circ p(x)$，易知$F$是$f$的线性延拓。因此$||F||\geq||f||$。另一方面，$||F||=||f \circ p|| \leq ||f|| \cdot ||p||=||f||$，因此$||F||=||f||$。
\end{proof}

\begin{example}
\quad 设$X$是赋范线性空间，$X_0 \subset X$是闭子空间，证明对$\forall x \in X$都有：
\[d(x,X_0)=\sup\{|f(x) \ | \ \forall f \in X^*, \ ||f||=1, \ f|_{X_0}=0\}\]
\end{example}
\begin{proof}
若$x \in X_0$命题显然成立，现在考虑$\forall x \in X-X_0$。由$X_0 \subset X$是闭子空间，因此$\exists \, \{x_n\} \subset X_0$满足$||x_n-x|| \geq d(x,X_0)$且$||x_n-x|| \to d(x,X_0)$，一方面，令$F^*=\{f \in X^* \ | \ ||f||=1 \ , \ f|_{X_0}=0\}$，对$\forall f \in F^*$都有$|f(x)|=|f(x-x_n)|\leq||f||\cdot||x_n-x||=||x_n-x||$，取极限$n \to \infty$，可得$\sup\limits_{f \in F^*}|f(x)|\leq d(x,X_0)$。

另一方面，考虑闭子空间线性延拓$X_1=\{x_0+\lambda x|x_0 \in X_0 \ , \ \lambda \in \mathbb{K}\}$，定义$f_1: \ X_1 \to \mathbb{R} \ , \ x \mapsto \lambda d(x,X_0)$，显然$f_1|_{X_0}=0$。其范数：
 \[||f_1||=\sup_{t \in X_1}\frac{|f(t)|}{||t||}=\sup_{t \in X_1}\frac{|\lambda|d(x,X_0)}{|\lambda|\cdot||x+\frac{x_0}{\lambda}||}=\sup_{t' \in X_1}\frac{d(x,X_0)}{||t'||} \quad , \quad t':=x+\frac{x_0}{\lambda}\]
 又因为：
 \[||t'||=\left\|x+\frac{x_0}{\lambda}\right\|\geq\inf_{y \in X_0}\left\|x+y\right\|=d(x,X_0)\]
 由上确界的性质可知$||f_1||=1$，即$f_1 \in F^*$，由 Hahn-Banach 定理[定理\ref{HB}]可将$f_1$延拓到全空间$X$上。
\end{proof}

\begin{example}
\quad 设$X$是赋范线性空间，且对$X^*$单位球壳$S=\{f \in X^* \ | \ ||f||=1\}$上的任意柯西列$\{f_n\}$都弱$*$收敛到$f_0 \in S$，证明$S$是弱$*$闭的。
\end{example}
\begin{proof}
即证明对任意$S$上的柯西列$\{f_n\}$都满足$f_n \xrightarrow{w^*} f_0 \in S$。显然$\{f_n\}$一致有界，且对$\forall x \in X$都有$f_n(x) \to f_0(x)$，即逐点收敛，因此由 Banach-Steinhaus 定理[定理\ref{BS}]得$||f_n-f|| \to 0$且：
\[||f||\leq \liminf_{n\to\infty}||f_n||=1\]
即$||f||=1$，因此$f \in S$，原命题得证。
\end{proof}

\section*{希尔伯特空间习题}
\begin{example}
\quad 在 Hilbert 空间$H=L^2[0,1]$中找出$M_1=\{\text{全体多项式}\}$和$M_2=\{\text{常数项为0的多项式}\}$的正交补。
\end{example}
\begin{proof}
因为$\overline{M_1}=H$，因此$M_1^{\perp}=\{0\}$。对$\forall f \in M_2 \ , \ \exists g \in M_1$满足$f=xg$。因此对$\forall u \in M_2^{\perp}$，都有：
\[(u,f)=(u,xg)=\int_0^1u(x) \cdot xg(x)\dd{x}=\int_0^1xu(x) \cdot g(x)\dd{x}=(xu,g)=0\]
即$xu \in M_1^{\perp}$，即$xu=0$，因此$u=0$，即$M_2^{\perp}=\{0\}$。
\end{proof}

\begin{example}
\quad 设$M$是 Hilbert 空间$H$的闭子空间，$\{e_n\}$和$\{f_n\}$分别是$M$和$M^{\perp}$的标准正交基，证明$\{e_n\}\cup\{f_n\}$是$H$的标准正交基。
\end{example}
\begin{proof}
易知$H=M \oplus M^{\perp}$，设对$\forall x \in H$都存在$\exists \, x_1 \in M_1 \ , \ x_2 \in M_2$满足$x=x_1+x_2$即：
\[x_1=\sum_{\alpha}f_{\alpha}e_{\alpha} \ , \ x_2=\sum_{\beta}g_{\beta}e_{\beta} \quad \Rightarrow \quad x=\sum_{\alpha}f_{\alpha}e_{\alpha}+\sum_{\beta}g_{\beta}e_{\beta}\]
故$\{e_n\}\cup\{f_n\}$是标准正交基，且完备，故是标准正交基。
\end{proof}

\begin{example}
\quad 设$H$是 Hilbert 空间，$T\in\mathscr{B}(H)$是$H$上的自共轭有界线性算子，且$T$的像空间$R(T)=TH$是有限维的，证明存在有限个线性无关的元素$\{y_1,y_2,\cdots,y_n\} \subset H$使得对$x \in H$都有：
\[T(x)=\sum_{i=1}^n(x,y_i)y_i\]
\end{example}
\begin{remark}
\quad 若$T$不是自共轭的，取$H=\text{span}\{e_1,e_2\}$且$e_1 \perp e_2$，令$Te_1=e_2 \ , \ Te_2=0$，即$TH$是一维的。则存在$y \in H$使得$Te_1=(e_1,y)y=e_2$，即$y \propto e_2$，因此$Te_1\propto (e_1,e_2)e_2=0$。
\end{remark}
\begin{theorem}\label{theorem:djm}
设 $V$ 是有限维线性空间，$f: V \to V$ 是线性算子。若 $f$ 是单射，则 $f$ 是满射。
\end{theorem}
\begin{proof}
由于 $f$ 是单射，$\ker(f) = \{0\}$。由维数公式$\dim V = \dim \ker(f) + \dim R(f)$，得 $\dim R(f) = \dim V$。又 $R(f) \subseteq V$，故 $R(f) = V$，即 $f$ 是满射，因此 $f$ 是双射。
\end{proof}
\begin{proof}
首先证明一个有限维的特殊情况，然后推广到一般情况，由于有限维的 Hilbert 空间同构与$\mathbb{K}^n$，因此直接取$H=\mathbb{K}^n$，算子$T: \ \mathbb{K}^n \to \mathbb{K}^n$是自共轭的，且是双射。因此存在算子$T$的特征值$\{\lambda_1,\lambda_2,\cdots,\lambda_n\}$与标准正交的特征向量$\{e_1,e_2,\cdots,e_n\}$使得对$i=1,2,\cdots,n$都有$Te_i=\lambda_ie_i$。因此对$\forall x \in H$，取$y_i=\sqrt{\lambda_i}e_i$，都满足：
\[x=\sum_{i=1}^n\alpha_ie_i \quad \Rightarrow \quad Tx=\sum_{i=1}^n\alpha_iTe_i=\sum_{i=1}^n\alpha_i\lambda_ie_i=\sum_{i=1}^n(x,\lambda_ie_i)e_i:=\sum_{i=1}^n(x,y_i)y_i\]
对一般情况，由定理\ref{theorem:zgeker}可知对任意一个自共轭算子$T\in\mathscr{B}(H)$都可做以下正交分解$H=\ker T \oplus R(T)$。定义正交投影算子$p: \ H \to R(T)$和$T_1=T|_{R(T)}: \ R(T) \to R(T)$，显然$T_1$是单射，由定理\ref{theorem:djm}知$T_1$是双射。因此对$\forall x \in H \ , \ \exists \, x_1 \in \ker T \ , \ x_2 \in R(T)$都有$x=x_1+x_2$，即$Tx=T_1 \circ p(x)=T_1(x_2)$，由上面的特殊情况可知：
\[\forall x \in H \ , \ \exists \, \{y_1,y_2,\cdots,y_n\} \subset H \quad \text{s.t.} \quad Tx=T_1(x_2)=\sum_{i=1}^n(x,y_i)y_i\]
\end{proof}

\begin{example}
\quad 设$H$是 Hilbert 空间，证明$\{x_n\} \subset H$强收敛于$x_0 \in H$等价于弱收敛。
\end{example}
\begin{proof}
由 Riesz 表示定理[定理\ref{theorem:rieszbs}]可知， Hilbert 空间的弱收敛等价于对$\forall y \in H$都有$(x_n,y) \to (x_0,y)$。对必要性，对$\forall y \in H$，由 Cauchy–Schwarz 不等式[定理\ref{theorem:Cauchy–Schwarz}]：
\[|(x_n,y)-(x_0,y)|=|(x_n-x_0,y)|\leq||x_n-x_0||\cdot||y|| \to 0\]
即强收敛推出弱收敛。考虑充分性，由弱收敛可知，取$y=x_0$：
\[|(x_n,x_0)-(x_0,x_0)|=|(x_n-x_0,x_0)|=(x_n,x_0)-||x_0||^2 \to 0\]
再取$y=x_n$：
\[|(x_n,x_n)-(x_0,x_n)|=|(x_n-x_0,x_n)|=||x_n||^2-(x_0,x_n) \to 0\]
最后计算范数$||x_n-x_0||^2$：
\[||x_n-x_0||^2=|(x_n-x_0,x_n-x_0)|=|(x_n-x_0,x_n)-(x_n-x_0,x_0)| \leq |(x_n-x_0,x_0)|+|(x_n-x_0,x_n)| \to 0\]
即弱收敛推出强收敛，因此原命题得证。
\end{proof}

\begin{example}
\quad 设$H$是 Hilbert 空间，$f_1,f_2 \in H^*$满足$f_1,f_2 \neq 0$且$\ker f_1 \subset \ker f_2$。证明对$\forall x \in H$都$\exists \, \alpha \in \mathbb{R}$满足$f_1(x)/f_2(x)=\alpha$。
\end{example}
\begin{theorem}\label{theorem:1d}
设$H$是 Hilbert 空间，$f \in H^*$满足$f \neq 0$，则$(\ker f)^{\perp} \cong \mathbb{R}$。
\end{theorem}
\begin{proof}
因为$f \neq 0$，则$(\ker f)^{\perp} \neq \{0\}$，任取$x_0,y \in (\ker f)^{\perp}$，显然$f(x_0),f(y) \neq 0$，记$\lambda=f(y)/f(x_0) \in \mathbb{R}$，由线性$y-\lambda x_0 \in (\ker f)^{\perp}$。而$f(y-\lambda x_0)=f(y)-\lambda f(x_0)=0$，即$y-\lambda x_0 \in \ker f \cap (\ker f)^{\perp}={0}$，因此$y/x_0=\lambda$，即$(\ker f)^{\perp}$中的元素都线性相关，可知$\dim (\ker f)^{\perp}=1$，因此可以构造同构使得$(\ker f)^{\perp} \cong \mathbb{R}$。
\end{proof}
\begin{proof}
由$\ker f_1 \subset \ker f_2$可知$(\ker f_1)^{\perp} \supset (\ker f_2)^{\perp}$，但由定理\ref{theorem:1d}可知$(\ker f_1)^{\perp},(\ker f_2)^{\perp}$都同构与$\mathbb{R}$，因此$(\ker f_1)^{\perp}=(\ker f_2)^{\perp}$。由 Riesz 表示定理[定理\ref{theorem:rieszbs}]可知，$\exists \, x_1,x_2 \in (\ker f_1)^{\perp}=(\ker f_2)^{\perp}$满足$x_1/x_2=\alpha\in\mathbb{R}$满足$f(x_1)=(x,x_1) \ , \ f(x_2)=(x,x_2)$，因此$f(x_1)/f(x_2)=\alpha$。
\end{proof}